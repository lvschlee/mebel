<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Тест корзины</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .button { 
            background: #059669; 
            color: white; 
            padding: 10px 20px; 
            border: none; 
            border-radius: 8px; 
            cursor: pointer; 
            margin: 5px;
        }
        .button:hover { background: #047857; }
    </style>
</head>
<body>
    <h1>Тест страницы корзины</h1>
    <p>Добавьте товары в корзину, затем перейдите по ссылке:</p>
    
    <button class="button" onclick="addProduct1()">Добавить Диван (89 990₽)</button>
    <button class="button" onclick="addProduct2()">Добавить Кресло (29 990₽)</button>
    <button class="button" onclick="addProduct3()">Добавить Пуф (12 990₽)</button>
    <br><br>
    <a href="/cart" class="button" style="display: inline-block; text-decoration: none;">Перейти в корзину</a>
    
    <script type="module">
        // Эмуляция cart store
        const cartStore = {
            items: [],
            addItem(product, quantity = 1) {
                const existing = this.items.find(i => i.id === product.id);
                if (existing) {
                    existing.quantity += quantity;
                } else {
                    this.items.push({ ...product, quantity });
                }
                // Сохраняем в localStorage для передачи данных
                localStorage.setItem('testCart', JSON.stringify(this.items));
                alert(`Добавлено: ${product.name} (${quantity} шт.)`);
            }
        };
        
        window.addProduct1 = () => {
            cartStore.addItem({
                id: 'divan-uglovoj',
                name: 'Диван угловой "Комфорт"',
                price: 89990,
                image: 'https://images.unsplash.com/photo-1555041469-a586c61ea9bc?w=400&h=400&fit=crop'
            }, 2);
        };
        
        window.addProduct2 = () => {
            cartStore.addItem({
                id: 'kreslo-relaks',
                name: 'Кресло "Релакс"',
                price: 29990,
                image: 'https://images.unsplash.com/photo-1567016432779-094069958ea5?w=400&h=400&fit=crop'
            }, 1);
        };
        
        window.addProduct3 = () => {
            cartStore.addItem({
                id: 'puf-komfort',
                name: 'Пуф "Комфорт Плюс"',
                price: 12990,
                image: 'https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=400&h=400&fit=crop'
            }, 3);
        };
    </script>
</body>
</html>
